@model Proy_DSWI_NinaJose.Models.Orden
@{
    ViewData["Title"] = "Orden Procesada";
    Layout = "_Layout";
}

<div class="container py-5">
    <div class="alert alert-success">
        <h4 class="alert-heading">
            Orden #@Model.IdOrden procesada con éxito
        </h4>
        <p>Estimado cliente, su orden fue procesada.</p>
        <ul>
            <li><strong>Nombre:</strong> @Model.Usuario.Nombre</li>
            <li><strong>Email:</strong> @Model.Usuario.Email</li>
        </ul>

        <h5>Productos:</h5>
        <table class="table">
            <thead>
                <tr>
                    <th>Producto</th>
                    <th class="text-center">Cantidad</th>
                    <th class="text-end">Precio unitario</th>
                    <th class="text-end">Subtotal</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var d in Model.OrdenDetalles)
                {
                    <tr>
                        <td>@d.Producto.Nombre</td>
                        <td class="text-center">@d.Cantidad</td>
                        <td class="text-end">S/ @d.PrecioUnitario.ToString("F2")</td>
                        <td class="text-end">S/ @(d.Cantidad * d.PrecioUnitario)</td>
                    </tr>
                }
            </tbody>
            <tfoot>
                <tr>
                    <th colspan="3" class="text-end">Monto total:</th>
                    <th class="text-end">S/ @Model.Total.ToString("F2")</th>
                </tr>
            </tfoot>
        </table>

        <hr />
        <p>¡Gracias por su compra!</p>
        <a asp-controller="Producto"
           asp-action="IndexProductos"
           class="btn btn-primary">
            Volver al catálogo
        </a>
    </div>
</div>
